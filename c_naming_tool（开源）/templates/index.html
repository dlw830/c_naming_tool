<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2196F3">
    <title>Cè¯­è¨€å˜é‡å®šä¹‰å·¥å…·</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="apple-touch-icon" href="/static/icon-192.png">
</head>
<body>
    <div class="app-container">
        <!-- å¤´éƒ¨ -->
        <header class="app-header">
            <h1>ğŸ”§ Cå˜é‡å‘½åå·¥å…·</h1>
            <p class="subtitle">åµŒå…¥å¼å¼€å‘å¿…å¤‡</p>
        </header>

        <!-- ä¸»å¯¼èˆª -->
        <nav class="main-nav">
            <a href="/variable" class="nav-item">
                <span class="icon">ğŸ“</span>
                <span class="text">å˜é‡</span>
            </a>
            <a href="/array" class="nav-item">
                <span class="icon">ğŸ“Š</span>
                <span class="text">æ•°ç»„</span>
            </a>
            <a href="/struct" class="nav-item">
                <span class="icon">ğŸ—ï¸</span>
                <span class="text">ç»“æ„ä½“</span>
            </a>
            <a href="/pointer" class="nav-item">
                <span class="icon">ğŸ‘‰</span>
                <span class="text">æŒ‡é’ˆ</span>
            </a>
            <a href="/function" class="nav-item">
                <span class="icon">âš¡</span>
                <span class="text">å‡½æ•°</span>
            </a>
            <a href="/translator" class="nav-item">
                <span class="icon">ğŸŒ</span>
                <span class="text">ç¿»è¯‘</span>
            </a>
        </nav>

        <!-- åŠŸèƒ½å¡ç‰‡ -->
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">âœ¨</div>
                <h3>æ™ºèƒ½ç¿»è¯‘</h3>
                <p>ä¸­æ–‡è½¬è‹±æ–‡ï¼Œ199ä¸ªä¸“ä¸šæœ¯è¯­åº“</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ¯</div>
                <h3>å‘½åè§„èŒƒ</h3>
                <p>å¤šç§å‘½åé£æ ¼å¯é€‰</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ“±</div>
                <h3>ç§»åŠ¨ä¼˜åŒ–</h3>
                <p>å¯æ·»åŠ åˆ°ä¸»å±å¹•</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">ğŸ”Œ</div>
                <h3>ç¦»çº¿å¯ç”¨</h3>
                <p>æ— éœ€ç½‘ç»œè¿æ¥</p>
            </div>
        </div>

        <!-- å®‰è£…æç¤º -->
        <div id="install-prompt" class="install-prompt" style="display: none;">
            <div class="install-content">
                <p>ğŸ“± æ·»åŠ åˆ°ä¸»å±å¹•ï¼ŒåƒAPPä¸€æ ·ä½¿ç”¨</p>
                <button id="install-button" class="btn-primary">ç«‹å³æ·»åŠ </button>
                <button id="install-close" class="btn-text">ç¨å</button>
            </div>
        </div>

        <!-- åº•éƒ¨ä¿¡æ¯ -->
        <footer class="app-footer">
            <p>ç‰ˆæœ¬ v1.0.0 Web</p>
            <p>æ”¯æŒ iOS / Android / Windows / macOS</p>
            <p class="online-status">
                <span id="status-indicator" class="status-online"></span>
                <span id="status-text">åœ¨çº¿</span>
            </p>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
    <script>
        // PWAå®‰è£…
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-prompt').style.display = 'block';
        });
        
        document.getElementById('install-button')?.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                deferredPrompt = null;
                document.getElementById('install-prompt').style.display = 'none';
            }
        });
        
        document.getElementById('install-close')?.addEventListener('click', () => {
            document.getElementById('install-prompt').style.display = 'none';
        });
        
        // Service Workeræ³¨å†Œ
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(reg => console.log('Service Workerå·²æ³¨å†Œ'))
                .catch(err => console.log('Service Workeræ³¨å†Œå¤±è´¥:', err));
        }
        
        // åœ¨çº¿/ç¦»çº¿çŠ¶æ€
        function updateOnlineStatus() {
            const indicator = document.getElementById('status-indicator');
            const text = document.getElementById('status-text');
            if (navigator.onLine) {
                indicator.className = 'status-online';
                text.textContent = 'åœ¨çº¿';
            } else {
                indicator.className = 'status-offline';
                text.textContent = 'ç¦»çº¿';
            }
        }
        
        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
        updateOnlineStatus();
    </script>
</body>
</html>
